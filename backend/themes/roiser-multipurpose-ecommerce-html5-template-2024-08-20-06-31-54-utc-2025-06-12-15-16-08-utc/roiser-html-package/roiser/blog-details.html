<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Explore in-depth articles, expert tips, and industry insights. Stay updated with the latest blogs on health, wellness, and shopping trends at Roiser."
    />
    <title>In-Depth Blog Insights - Read Expert Articles | Roiser</title>
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/img/favicon.png"
    />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/fontawesome.min.css" />
    <link rel="stylesheet" href="assets/css/venobox.min.css" />
    <link rel="stylesheet" href="assets/css/odometer.min.css" />
    <link rel="stylesheet" href="assets/css/nice-select.css" />
    <link rel="stylesheet" href="assets/css/swiper.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document
          .querySelectorAll("a[href$='.html']:not(.lang-btn)")
          .forEach((a) => {
            const href = a.getAttribute("href");
            const page = href.replace(/\.html$/, "");
            if (page === "index" || page === "") {
              a.setAttribute("href", "http://srv689968.hstgr.cloud/");
            } else {
              a.setAttribute("href", `http://srv689968.hstgr.cloud/${page}`);
            }
            a.addEventListener("click", (e) => {
              e.preventDefault();
              if (page === "index" || page === "") {
                window.parent.location.href = "http://srv689968.hstgr.cloud/";
              } else {
                window.parent.location.href = `http://srv689968.hstgr.cloud/${page}`;
              }
            });
          });
        document.querySelectorAll('a[href="#"]').forEach((a) => {
          a.addEventListener("click", (e) => e.preventDefault());
        });
      });
    </script>
  </head>

  <style>
    .section-title {
      font-size: 20px !important;
    }
  </style>

  <body>
    <header class="header sticky-active">
      <div class="top-bar">
        <div class="container">
          <div class="top-bar-inner">
            <div class="top-bar-left">
              <ul class="top-left-list">
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">My Account</a></li>
                <li><a href="wishlist.html">Wishlist</a></li>
                <li><a href="checkout.html">Checkout</a></li>
              </ul>
            </div>
            <div class="top-bar-middle">
              <span
                id="announcement-text"
                style="
                  display: inline-block;
                  transition: transform 0.5s ease;
                  white-space: nowrap;
                "
              ></span>
            </div>
            <div class="top-bar-right">
              <ul class="top-right-list">
                <li><a href="contact.html">Store Location</a></li>
                <li>
                  <div class="nice-select select-control country1" tabindex="0">
                    <span class="current">Language</span>
                    <ul class="list">
                      <li data-value="" class="option selected focus">
                        Language
                      </li>
                      <li data-value="vdt" class="option">English</li>
                      <li data-value="can" class="option">Bangla</li>
                      <li data-value="uk" class="option">Arabic</li>
                    </ul>
                  </div>
                </li>
                <li>
                  <div
                    class="nice-select select-control select-2 country"
                    tabindex="0"
                  >
                    <span class="current">Currency</span>
                    <ul class="list">
                      <li data-value="" class="option selected focus">
                        Currency
                      </li>
                      <li data-value="vdt" class="option">Doller</li>
                      <li data-value="can" class="option">Rupee</li>
                      <li data-value="uk" class="option">Taka</li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="header-middle">
        <div class="container">
          <div class="header-middle-inner">
            <div class="header-middle-left">
              <div class="header-logo d-lg-block">
                <a href="index.html">
                  <img
                    src="assets/img/logo/logo-1.png"
                    alt="Logo"
                    id="site-logo"
                  />
                </a>
              </div>
              <div class="category-form-wrap">
                <div class="nice-select select-control country" tabindex="0">
                  <span class="current">ALL Categories</span>
                  <ul class="list">
                    <li data-value="" class="option selected focus">
                      ALL Categories
                    </li>
                    <li data-value="vdt" class="option">Fashion</li>
                    <li data-value="can" class="option">Organic</li>
                    <li data-value="uk" class="option">Furniture</li>
                  </ul>
                </div>

                <form class="header-form">
                  <input
                    class="form-control"
                    type="text"
                    name="search"
                    placeholder="Search here..."
                    required
                  />
                  <button class="submit rr-primary-btn" type="submit">
                    Search here
                  </button>
                </form>
              </div>
            </div>
            <div class="header-middle-right">
              <ul class="contact-item-list">
                <li>
                  <div class="content">
                    <span>Call Us Now:</span>
                    <a class="number" href="tel:+25821592159"
                      >+(258) 2159-2159</a
                    >
                  </div>
                  <a href="tel:+25821592159" class="icon" aria-label="Call us">
                    <i class="fa-regular fa-phone"></i>
                  </a>
                </li>
                <li>
                  <a
                    href="wishlist.html"
                    class="icon"
                    aria-label="View wishlist"
                  >
                    <i class="fa-sharp fa-regular fa-heart"></i>
                  </a>
                </li>
                <li>
                  <a href="cart.html" class="icon" aria-label="View cart">
                    <i class="fa-light fa-bag-shopping"></i>
                    <span>0</span>
                  </a>
                  <div class="content">
                    <span>Your cart,</span>
                    <h5 class="number">$0.00</h5>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="primary-header">
        <div class="container">
          <div class="primary-header-inner">
            <div class="header-logo mobile-logo">
              <a href="index.html">
                <img src="assets/img/logo/logo-1.png" alt="Logo" />
              </a>
            </div>
            <div class="header-menu-wrap">
              <div class="mobile-menu-items">
                <ul>
                  <li class="menu-item-has-children active">
                    <a href="index.html">Home</a>
                    <ul>
                      <li><a href="index.html">Fashion Home</a></li>
                      <li><a href="index-2.html">Grocery Home</a></li>
                      <li><a href="index-3.html">Furniture</a></li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="shop.html">Shop</a>
                    <ul>
                      <li><a href="shop.html">Shop</a></li>
                      <li><a href="shop-grid.html">Shop Grid</a></li>
                      <li><a href="shop-details.html">Shop Details</a></li>
                      <li><a href="cart.html">Cart</a></li>
                      <li><a href="wishlist.html">Wishlist</a></li>
                      <li><a href="checkout.html">Checkout</a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="shop-grid.html">Women</a>
                  </li>
                  <li>
                    <a href="shop-grid.html">men</a>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="/about">Pages</a>
                    <ul>
                      <li><a href="about.html">About</a></li>
                      <li><a href="login.html">Login</a></li>
                      <li><a href="register.html">Register</a></li>
                      <li><a href="faq.html">Faq</a></li>
                      <li><a href="error.html">404 Error</a></li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="blog-grid.html">Blog</a>
                    <ul>
                      <li><a href="blog-grid.html">Blog Grid</a></li>
                      <li><a href="blog-list.html">Blog list</a></li>
                      <li><a href="blog-details.html">Blog Details</a></li>
                    </ul>
                  </li>
                  <li><a href="contact.html">Contact</a></li>
                </ul>
              </div>
            </div>
            <div class="header-right-wrap">
              <div class="header-right">
                <span>Get 30% Discount Now <span>Sale</span></span>
                <div class="header-right-item">
                  <button
                    class="mobile-side-menu-toggle"
                    aria-label="Toggle mobile menu"
                    type="button"
                  >
                    <i class="fa-sharp fa-solid fa-bars" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let selectedCurrency = localStorage.getItem("currency") || "vdt";

        const currencyRates = {
          vdt: { symbol: "$", rate: 1 },
          can: { symbol: "₹", rate: 83 },
          uk: { symbol: "৳", rate: 108 },
        };

        const currentCurrency = currencyRates[selectedCurrency];
        if (currentCurrency) {
          const selectedOption = document.querySelector(
            `.nice-select.country .option[data-value="${selectedCurrency}"]`
          );
          if (selectedOption) {
            document.querySelector(
              ".nice-select.country .current"
            ).textContent = selectedOption.textContent;
          }
        }

        document
          .querySelectorAll(".nice-select.country .option")
          .forEach((opt) => {
            opt.addEventListener("click", () => {
              const code = opt.dataset.value;
              if (currencyRates[code]) {
                selectedCurrency = code;
                localStorage.setItem("currency", selectedCurrency);
                document.querySelector(
                  ".nice-select.country .current"
                ).textContent = opt.textContent;
              }
            });
          });

        function formatPrice(raw) {
          const n = parseFloat(raw.replace(/[^0-9.]/g, "")) || 0;
          const { symbol, rate } = currencyRates[selectedCurrency];
          return symbol + (n * rate).toFixed(2);
        }

        const wrapper = document.querySelector(".category-form-wrap");
        wrapper.style.position = "relative";

        const resultBox = document.createElement("div");
        resultBox.classList.add("search-result-dropdown");
        Object.assign(resultBox.style, {
          position: "absolute",
          top: "100%",
          left: "0%",
          width: "100%",
          background: "#fff",
          border: "1px solid #ddd",
          zIndex: "1000",
          maxHeight: "300px",
          overflowY: "auto",
          display: "none",
        });
        wrapper.appendChild(resultBox);

        const searchInput = wrapper.querySelector('input[name="search"]');
        let timeout;

        searchInput.addEventListener("input", () => {
          const q = searchInput.value.trim();
          clearTimeout(timeout);

          if (q.length < 2) {
            resultBox.style.display = "none";
            resultBox.innerHTML = "";
            return;
          }

          timeout = setTimeout(() => {
            fetch("/productpagedata")
              .then((r) => r.json())
              .then((products) => {
                const matches = products
                  .filter((p) => p.name.toLowerCase().includes(q.toLowerCase()))
                  .slice(0, 5);

                if (!matches.length) {
                  resultBox.innerHTML = `<div style="padding:10px;color:#666">No matching products found at this time.</div>`;
                } else {
                  resultBox.innerHTML =
                    matches
                      .map((p) => {
                        const img = (p.image || "").split(",")[0].trim();
                        const mainPrice = formatPrice(p.price);
                        const salePrice = p.price_sale
                          ? `<strong class="text-dark me-2">${formatPrice(
                              p.price
                            )}</strong>
                              <s class="fw-bold text-danger">${formatPrice(
                                p.price_sale
                              )}</s>`
                          : `<strong class="fw-bold text-dark">${formatPrice(
                              p.price
                            )}</strong>`;

                        return `
                        <div
                          onclick="window.location.href='/shop'"
                          style="cursor:pointer;display:flex;align-items:center;padding:8px 10px;border-bottom:1px solid #eee;"
                        >
                          <img src="/uploads/${img}" alt="${p.name}"
                              style="width:40px;height:40px;object-fit:cover;margin-right:10px;">
                          <div>
                            <div class="fw-bold text-dark">${p.name}</div>
                            <div style="font-size:0.85em;color:#999;">
                              ${salePrice}
                            </div>
                          </div>
                        </div>
                      `;
                      })
                      .join("") +
                    `
                      <div
                       onclick="window.location.href='/shop'"
                        style="padding:10px;text-align:center;color:#e74c3c;font-weight:600;cursor:pointer;"
                      >
                        Show all results
                      </div>
                    `;
                }

                resultBox.style.display = "block";
              })
              .catch((err) => {
                console.error("Error fetching products:", err);
                resultBox.innerHTML = `<div style="padding:10px;color:red;">Error loading results.</div>`;
                resultBox.style.display = "block";
              });
          }, 300);
        });

        document.addEventListener("click", (e) => {
          if (!wrapper.contains(e.target)) {
            resultBox.style.display = "none";
          }
        });
      });
    </script>

    <div id="popup-search-box">
      <div class="box-inner-wrap d-flex align-items-center">
        <form id="form" action="#" method="get" role="search">
          <input
            id="popup-search"
            type="text"
            name="search"
            placeholder="Type keywords here..."
          />
        </form>
        <div class="search-close">
          <i class="fa-sharp fa-regular fa-xmark"></i>
        </div>
      </div>
    </div>

    <div class="mobile-side-menu">
      <div class="side-menu-content">
        <div class="side-menu-head">
          <a href="index.html"
            ><img src="assets/img/logo/logo-1.png" alt="logo"
          /></a>
          <button class="mobile-side-menu-close">
            <i class="fa-regular fa-xmark"></i>
          </button>
        </div>
        <div class="side-menu-wrap"></div>
        <ul class="side-menu-list">
          <li>
            <i class="fa-light fa-location-dot"></i>Address :
            <span>Amsterdam, 109-74</span>
          </li>
          <li>
            <i class="fa-light fa-phone"></i>Phone :
            <a href="tel:+01569896654">+01 569 896 654</a>
          </li>
          <li>
            <i class="fa-light fa-envelope"></i>Email :
            <a href="mailto:info@example.com">info@example.com</a>
          </li>
        </ul>
      </div>
    </div>

    <div id="preloader">
      <div class="preloader-close">X</div>
      <div class="sk-three-bounce">
        <div class="sk-child sk-bounce1"></div>
        <div class="sk-child sk-bounce2"></div>
        <div class="sk-child sk-bounce3"></div>
      </div>
    </div>

    <section class="page-header">
      <div class="shape">
        <img src="assets/img/shapes/page-header-shape.png" alt="shape" />
      </div>
      <div class="container">
        <div class="page-header-content">
          <h1 class="title">Blog Details</h1>
          <h2 class="sub-title">
            <span class="home">
              <a href="#"><span>Home</span></a>
            </span>
            <span class="icon">
              <i class="fa-solid fa-angle-right" aria-hidden="true"></i>
            </span>
            <span class="inner"><span>Blog Details</span></span>
          </h2>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        try {
          const res = await fetch("/get-theme-breadcrumb");
          const config = await res.json();

          const section = document.querySelector(".page-header");
          const content = section.querySelector(".page-header-content");
          const titleEl = content.querySelector(".title");
          const crumbEl = content.querySelector(".sub-title");
          const imgEl = section.querySelector(".shape img");

          if (config.enable_breadcrumb === "no") {
            titleEl.style.display = "none";
            crumbEl.style.display = "none";
          } else {
            titleEl.style.display = "";
            crumbEl.style.display = "";
          }

          if (config.breadcrumb_height) {
            section.style.height = config.breadcrumb_height + "px";
          }

          if (config.background_color) {
            section.style.backgroundColor = config.background_color;
          }

          if (config.background_image && config.background_image.trim()) {
            const bg = config.background_image.trim();
            imgEl.src = bg.startsWith("http") ? bg : `/uploads/${bg}`;
          }

          if (
            config.enable_breadcrumb === "yes" &&
            config.hide_title === "yes"
          ) {
            titleEl.style.display = "none";
          }

          if (config.enable_breadcrumb === "yes") {
            switch (config.breadcrumb_style) {
              case "none":
                crumbEl.style.display = "none";
                break;
              case "align center":
                content.style.textAlign = "center";
                break;
              default:
                content.style.textAlign = "start";
            }
          }
        } catch (e) {
          console.error("Breadcrumb config failed to load:", e);
        }
      });
    </script>

    <section class="blog-details pt-130 pb-130">
      <div class="container">
        <div class="row gy-5">
          <div class="col-lg-8 col-md-12">
            <div class="blog-details-wrap">
              <div class="blog-details-img blog-detal">
                <img src="assets/img/blog/blog-details-img.jpg" alt="blog" />
              </div>
              <div class="blog-details-content-wrap">
                <ul class="post-meta">
                  <li>
                    <i class="fa-sharp fa-regular fa-clock"></i>25 June, 2024
                  </li>
                  <li><i class="fa-light fa-user"></i>Modern Fashion</li>
                </ul>
                <div class="blog-details-content">
                  <h2 class="details-title mb-25">
                    Fueling Your Passion for All Things Stylish
                  </h2>
                  <p class="mb-20">
                    Donec rutrum congue leo eget malesuada. Curabitur aliquet
                    quam posuere blandit. Vivamus suscipit tortor eget felis
                    porttitor volutpa estibulum ante ipsum primis in faucibus
                    orci luctus et ultrices posuere cubilia Curae Donec velit
                    neque, auctor sit amet aliquam vel, ullamcorper sit amet
                    ligula.
                  </p>
                  <p>
                    Quisque velit nisi, pretium ut lacinia in, elementum id
                    enim. Vivamus suscipit tortor eget felis porttitor volutpat.
                    Quisque velit nisi, pretium ut lacinia in, elementum id
                    enim. Donec rutrum congue leo eget malesuada. Curabitur non
                    nulla sit amet nisl tempus convallis quis ac lectus.
                    Pellentesque in ipsum id orci porta dapibus Vestibulum ante
                    ipsum primis in faucibus orci luctus ultrices posuere
                    cubilia Curae; Donec velit neque, auctor sit amet aliquam
                    ullamcorper sit amet ligula.
                  </p>
                  <blockquote class="mb-30">
                    <div class="content">
                      <p>
                        “Cras ultricies ligula sed magna dictum porta aesent
                        sapien massa pellentesque nec egestas vamus magna justo”
                      </p>
                    </div>
                  </blockquote>
                  <p class="mb-30">
                    Aptent vestibulum sodales porttitor hac torquent commodo
                    magnis cum molestie donec, egestas ultrices ultricies eget
                    sapien tortor odio condimentum dictum eu, lacus phasellus
                    velit elementum maecenas fringilla placerat suscipit libero.
                    Suscipit fermentum rutrum nisl lacinia varius duis euismod a
                    praesent feugiat inceptos leo, senectus ac facilisis
                    placerat mi posuere lobortis aliquam litora eget dictumst
                    semper, vestibulum morbi aenean volutpat accumsan.
                  </p>
                  <div class="details-img-wrap mt-40 mb-40">
                    <img
                      src="https://avatars.mds.yandex.net/i?id=3439012d291c1fd0e2ba089c0b00783b6f40f028-11907031-images-thumbs&n=13"
                      alt="blog"
                    />
                    <img
                      src="https://avatars.mds.yandex.net/i?id=3ef3bb27eda1339e04dcba44293b5283a75c99a5-4363966-images-thumbs&n=13"
                      alt="blog"
                    />
                  </div>
                  <p class="mb-50">
                    Vestibulum ante ipsum primis in faucibus orci luctus
                    ultrices posuere cubilia Curae; Donec velit neque, auctor
                    sit amet aliquam ullamcorper sit amet ligula. Quisque velit
                    , pretium ut lacinia in, elementum id enim. Vivamus suscipit
                    tortor eget felis porttitor volutpat. Quisque velit nisi,
                    pretium ut lacinia in, elementum id enim.
                  </p>
                </div>
                <div class="tags">
                  <div class="tag-left">
                    <ul class="tag-list">
                      <li><a href="#">Dream</a></li>
                      <li><a href="#">Rings</a></li>
                      <li><a href="#">Birthday</a></li>
                    </ul>
                  </div>

                  <div class="social-list-wrap">
                    <h3 class="follow">Follow Us:</h3>
                    <ul class="social-list">
                      <li>
                        <a
                          href="#"
                          class="facebook"
                          aria-label="Follow us on Facebook"
                        >
                          <i class="fab fa-facebook-f" aria-hidden="true"></i>
                        </a>
                      </li>
                      <li>
                        <a
                          href="#"
                          class="twitter"
                          aria-label="Follow us on Twitter"
                        >
                          <i class="fab fa-twitter" aria-hidden="true"></i>
                        </a>
                      </li>
                      <li>
                        <a
                          href="#"
                          class="linkedin"
                          aria-label="Follow us on LinkedIn"
                        >
                          <i class="fab fa-linkedin-in" aria-hidden="true"></i>
                        </a>
                      </li>
                      <li>
                        <a
                          href="#"
                          class="instagram"
                          aria-label="Follow us on Instagram"
                        >
                          <i class="fab fa-instagram" aria-hidden="true"></i>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="blog-author-wrap">
                  <div class="blog-author-item">
                    <div class="author-img">
                      <img
                        src="https://avatars.mds.yandex.net/i?id=5b42e711a229264a9b5977b40ac6dbbf2cbda2c4-6250997-images-thumbs&n=13"
                        alt="img"
                      />
                    </div>
                    <div class="content">
                      <h3 class="name">About Auhor</h3>
                      <p>
                        Donec sollicitudin molestie malesuada. Pellentesque in
                        ipsum orci porta dapibus ac diam sit amet quam vehicula
                        elementum sed sit amet dui. Vivamus magna justo orem
                        ipsum dolor sit amet, consectetur adipiscing elit.
                      </p>
                      <ul class="social-list">
                        <li>
                          <a
                            href="#"
                            class="facebook"
                            aria-label="Follow us on Facebook"
                          >
                            <i class="fab fa-facebook-f" aria-hidden="true"></i>
                          </a>
                        </li>
                        <li>
                          <a
                            href="#"
                            class="twitter"
                            aria-label="Follow us on Twitter"
                          >
                            <i class="fab fa-twitter" aria-hidden="true"></i>
                          </a>
                        </li>
                        <li>
                          <a
                            href="#"
                            class="linkedin"
                            aria-label="Follow us on LinkedIn"
                          >
                            <i
                              class="fab fa-linkedin-in"
                              aria-hidden="true"
                            ></i>
                          </a>
                        </li>
                        <li>
                          <a
                            href="#"
                            class="instagram"
                            aria-label="Follow us on Instagram"
                          >
                            <i class="fab fa-instagram" aria-hidden="true"></i>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="comments-area">
                  <div class="section-heading">
                    <h3 class="section-title section-title1">Comments (3)</h3>
                  </div>
                </div>

                <div class="form-wrap mt-3">
                  <div class="blog-contact-form">
                    <h2 class="title">Add a Review</h2>
                    <p>
                      Your email address will not be published. Required fields
                      are marked *
                    </p>
                    <div class="request-form">
                      <form id="ajax_contact" class="form-horizontal">
                        <div class="form-group row">
                          <div class="col-md-6">
                            <div class="form-item">
                              <input
                                type="text"
                                class="form-control"
                                placeholder="Your Name"
                                id="names"
                                name="names"
                                required
                              />
                              <div class="icon">
                                <i class="fa-regular fa-user"></i>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-item">
                              <input
                                type="email"
                                class="form-control"
                                placeholder="Your Email"
                                id="email"
                                name="email"
                                required
                              />
                              <div class="icon">
                                <i class="fa-sharp fa-regular fa-envelope"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="form-group row">
                          <div class="col-md-12">
                            <div class="form-item message-item">
                              <textarea
                                cols="30"
                                rows="5"
                                class="form-control address"
                                placeholder="Message"
                                id="message"
                                name="message"
                                required
                              ></textarea>
                              <div class="icon">
                                <i class="fa-light fa-messages"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="submit-btn">
                          <button class="rr-primary-btn" type="submit">
                            Submit Message
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="sidebar-widget">
              <div class="search-box">
                <form action="#" class="search-form">
                  <input
                    type="text"
                    class="form-control py-4"
                    placeholder="Search"
                  />
                </form>
              </div>
            </div>

            <div class="sidebar-widget">
              <h3 class="widget-title">Category</h3>
              <ul class="sidebar-list" id="category-container"></ul>
            </div>

            <div class="sidebar-widget" id="latest-posts-widget">
              <h3 class="widget-title">Latest Post</h3>
            </div>

            <div class="sidebar-widget">
              <h3 class="widget-title">Instagram Posts</h3>
              <div class="blog-gallery-wrap">
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=21da416045381245af6b2bd7e3b4616a599bbd33-15365595-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=4cfc4aa1caad239b778b41fe469560ad1280f9ed-16922036-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=fd02cb8365f18fdb94ef968ce191f1571b951fc2-9858823-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=fd02cb8365f18fdb94ef968ce191f1571b951fc2-9858823-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=d68071988d46ce9cd4d4aa9858c09820eb09c118-8544486-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=fc83cfdb0832c9adb2470a98ea9e882697a3951b-4818428-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=5744fcd632225923c76f71db6b7af0c18070e404-5866055-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
                <div class="gallary-img">
                  <a href="#"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=5e3e4eb7a4f140bf9db922151eb2825f95c224a4-5911735-images-thumbs&n=13"
                      alt="img"
                  /></a>
                </div>
              </div>
            </div>

            <div class="sidebar-widget sticky-widget">
              <h3 class="widget-title">Tags</h3>
              <ul class="tags" id="tags-container"></ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const blogId = new URLSearchParams(location.search).get("id") || "1";
        const form = document.getElementById("ajax_contact");
        const area = document.querySelector(".comments-area");
        const titleEl = area.querySelector(".section-title");

        let list = area.querySelector("ul");
        if (!list) {
          list = document.createElement("ul");
          list.className = "list-unstyled mb-0";
          area.appendChild(list);
        }

        async function fetchComments() {
          try {
            const res = await fetch(`/commentsdatagets/${blogId}`);
            if (!res.ok) throw new Error(res.statusText);
            const comments = await res.json();

            titleEl.textContent = comments.length
              ? `Comments (${comments.length})`
              : "No reviews available";

            list.innerHTML = "";
            if (!comments.length) return;

            comments.forEach((c, i) => {
              const li = document.createElement("li");
              li.className = i % 2 ? "comment-item item-2" : "comment-item";

              const dateStr = formatDate(c.created_at || c.date);
              li.innerHTML = `
              <div class="comment-thumb">
                <img src="data:image/jpeg;base64,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" alt="author image" loading="lazy"/>
              </div>
              <div class="comment-info">
                <div class="comments-meta">
                  <span><i class="fa-light fa-circle-user"></i>${dateStr}</span>
                </div>
                <h3 class="author">${c.names || "Anonymous"}</h3>
                <p>${c.message}</p>
              </div>
            `;
              list.appendChild(li);
            });
          } catch (err) {
            console.error("Error loading comments:", err);
          }
        }

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          const payload = {
            names: form.names.value.trim(),
            email: form.email.value.trim(),
            message: form.message.value.trim(),
          };
          try {
            const res = await fetch(`/commentpost/${blogId}`, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });
            if (!res.ok) throw new Error(res.statusText);

            showBanner("Your comment has been posted successfully.", true);
            form.reset();
            await fetchComments();
          } catch (err) {
            console.error("Failed to post comment:", err);
            showBanner(
              "Failed to post your comment. Please try again later.",
              false
            );
          }
        });

        function showBanner(msg, ok) {
          const b = document.createElement("div");
          b.textContent = msg;
          b.style.cssText = `
          background:${ok ? "#d4edda" : "#f8d7da"};
          color:${ok ? "#155724" : "#721c24"};
          padding:10px; margin:10px 0; border-radius:4px;
        `;
          form.parentElement.appendChild(b);
          setTimeout(() => b.remove(), 4000);
        }

        function formatDate(str) {
          const d = new Date(str);
          const day = d.getDate();
          const ord =
            day > 3 && day < 21
              ? "th"
              : { 1: "st", 2: "nd", 3: "rd" }[day % 10] || "th";
          const mo = d.toLocaleString("en-US", { month: "long" });
          return `${day}${ord} ${mo}, ${d.getFullYear()}`;
        }

        fetchComments();
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        function makeUploadsUrl(path) {
          if (!path) return "";
          if (/^https?:\/\//i.test(path)) return path;
          if (!/^\/?uploads\//i.test(path))
            path = "/uploads/" + path.replace(/^\/+/, "");
          return window.location.origin + path;
        }

        function stripHtml(s) {
          if (!s) return "";
          try {
            return s.replace(/<[^>]*>/g, "").trim();
          } catch (e) {
            return String(s);
          }
        }

        function formatDate(dateString) {
          if (!dateString) return "";
          const d = new Date(dateString);
          const day = d.getDate();
          const month = d.toLocaleString("en-US", { month: "long" });
          const year = d.getFullYear();
          return `${day}${getOrdinal(day)} ${month}, ${year}`;
        }
        function getOrdinal(n) {
          if (n > 3 && n < 21) return "th";
          switch (n % 10) {
            case 1:
              return "st";
            case 2:
              return "nd";
            case 3:
              return "rd";
            default:
              return "th";
          }
        }

        function getRequestedSlug() {
          try {
            const path = window.location.pathname || "";
            const prefix = "/blog-details/";
            if (path.toLowerCase().startsWith(prefix)) {
              const raw = path.substring(prefix.length);
              if (raw) return decodeURIComponent(raw.replace(/^\/+|\/+$/g, ""));
            }
          } catch (e) {}
          try {
            const sp = sessionStorage.getItem("selectedPostPermalink");
            if (sp) {
              sessionStorage.removeItem("selectedPostPermalink");
              return decodeURIComponent(sp);
            }
          } catch (e) {}
          try {
            const id = sessionStorage.getItem("selectedPostId");
            if (id) {
              sessionStorage.removeItem("selectedPostId");
              return String(id);
            }
          } catch (e) {}
          return null;
        }

        let posts = [];
        try {
          const res = await fetch("/blogpostdata");
          if (!res.ok) throw new Error("Failed to fetch blog posts");
          const data = await res.json();
          posts = Array.isArray(data) ? data : data.items || [];
          posts.sort((a, b) => new Date(b.date) - new Date(a.date));
        } catch (err) {
          console.error("Failed to load posts:", err);
          return;
        }

        const requested = getRequestedSlug();

        const findPost = (key) => {
          if (!key) return null;
          const rawLower = (key || "").toString().trim().toLowerCase();

          if (/^\d+$/.test(rawLower)) {
            const found = posts.find((p) => String(p.id) === rawLower);
            if (found) return found;
          }

          const byPermalink = posts.find((p) => {
            const pPerm = (p.permalink || p.slug || "")
              .toString()
              .trim()
              .toLowerCase();
            if (pPerm && pPerm === rawLower) return true;
            const normKey = rawLower.replace(/[-_\s%20]+/g, "");
            const normPerm = (pPerm || "").replace(/[-_\s%20]+/g, "");
            return normPerm && normPerm === normKey;
          });
          if (byPermalink) return byPermalink;

          const byName = posts.find(
            (p) => (p.name || "").toString().trim().toLowerCase() === rawLower
          );
          if (byName) return byName;

          return null;
        };

        let post = null;
        if (requested) {
          post = findPost(requested);
        }
        if (!post) {
          post = posts[0] || null;
        }

        if (!post) {
          console.error("No blog posts available");
          return;
        }

        const mainImg = document.querySelector(".blog-details-img img");
        if (mainImg) mainImg.src = makeUploadsUrl(post.image || "");

        const titleEl = document.querySelector(
          ".blog-details-content .details-title"
        );
        if (titleEl) titleEl.textContent = post.name || post.title || "";

        const dateMeta = document.querySelector(".post-meta li:nth-child(1)");
        if (dateMeta)
          dateMeta.innerHTML = `<i class="fa-sharp fa-regular fa-clock"></i> ${formatDate(
            post.date
          )}`;

        const authorMeta = document.querySelector(".post-meta li:nth-child(2)");
        if (authorMeta)
          authorMeta.innerHTML = `<i class="fa-light fa-user"></i> ${
            post.author_name || post.author || "Admin"
          }`;

        const tagListItems = document.querySelectorAll(".tag-list li");
        if (tagListItems && tagListItems.length) {
          const tagText = post.tags || "";
          if (tagListItems[1])
            tagListItems[1].innerHTML = `<a href="/blog-grid?tag=${encodeURIComponent(
              tagText
            )}">${tagText}</a>`;
          else if (tagListItems[0])
            tagListItems[0].innerHTML = `<a href="/blog-grid?tag=${encodeURIComponent(
              tagText
            )}">${tagText}</a>`;
        }

        const contentWrap = document.querySelector(".blog-details-content");
        if (contentWrap) {
          const p1 = contentWrap.querySelector("p.mb-20");
          const p2 = contentWrap.querySelector("p.mb-30:last-of-type");
          if (p1)
            p1.innerHTML = post.description || stripHtml(post.content || "");
          if (p2) p2.innerHTML = post.extra || "";
          const quoteEl = contentWrap.querySelector("blockquote .content p");
          if (quoteEl)
            quoteEl.innerHTML = post.blockquote || "No quote provided.";
        }

        const imgs = document.querySelectorAll(".details-img-wrap img");
        if (imgs.length >= 1)
          imgs[0].src = makeUploadsUrl(post.image_1 || post.image);
        if (imgs.length >= 2)
          imgs[1].src = makeUploadsUrl(post.image_2 || post.image);

        const crumb = document.querySelector(".radiosbcrumb-end span");
        if (crumb) crumb.textContent = post.name || post.title || "";

        try {
          let canonical = document.head.querySelector('link[rel="canonical"]');
          const canonicalHref =
            window.location.origin +
            "/blog-details/" +
            encodeURIComponent(
              post.permalink || post.slug || post.id || post.name
            );
          if (!canonical) {
            canonical = document.createElement("link");
            canonical.rel = "canonical";
            document.head.appendChild(canonical);
          }
          canonical.href = canonicalHref;
        } catch (e) {}

        try {
          const schemaData = {
            "@context": "https://schema.org",
            "@type": "BlogPosting",
            headline: post.name || post.title || "",
            description: stripHtml(post.description || post.content || ""),
            datePublished: post.date || "",
            dateModified: post.updated_at || post.date || "",
            author: {
              "@type": "Person",
              name: post.author_name || post.author || "Admin",
            },
            publisher: {
              "@type": "Organization",
              name: "Your Website Name",
              logo: {
                "@type": "ImageObject",
                url: window.location.origin + "/logo.png",
              },
            },
            mainEntityOfPage: {
              "@type": "WebPage",
              "@id": window.location.href,
            },
            image: makeUploadsUrl(post.image || ""),
          };

          let schemaScript = document.getElementById("blogpost-schema");
          if (!schemaScript) {
            schemaScript = document.createElement("script");
            schemaScript.type = "application/ld+json";
            schemaScript.id = "blogpost-schema";
            document.head.appendChild(schemaScript);
          }
          schemaScript.textContent = JSON.stringify(schemaData, null, 2);
        } catch (err) {
          console.error("Schema injection failed:", err);
        }
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const blogContainer = document.getElementById("blog-post-container");
        const paginationContainer = document.getElementById(
          "pagination-container"
        );
        const searchInput = document.getElementById("search-input");
        const categoryContainer = document.getElementById("category-container");
        const tagsContainer = document.getElementById("tags-container");
        const latestPostsContainer = document.getElementById(
          "latest-posts-widget"
        );

        const POSTS_PER_PAGE = 5;
        let allPosts = [];
        let filteredPosts = [];

        function fetchAllPosts() {
          return fetch("/blogpostdata")
            .then((res) => res.json())
            .then((data) => {
              allPosts = data.sort(
                (a, b) => new Date(b.date) - new Date(a.date)
              );
              filteredPosts = [...allPosts];
            });
        }

        function renderPosts(posts) {
          blogContainer.innerHTML = "";
          if (!posts.length) {
            blogContainer.innerHTML = "<p>No blogs found.</p>";
            return;
          }
          posts.forEach((post) => {
            const card = document.createElement("div");
            card.className = "post-card-2 inner-blog";
            card.innerHTML = `
                <div class="post-thumb">
                  <a href="/blog-details" data-post-id="${post.id}">
                    <img src="/uploads/${
                      post.image
                    }" alt="post" style="width:100%;height:auto;">
                  </a>
                </div>
                <div class="post-content-wrap">
                  <div class="post-content">
                    <ul class="post-meta">
                      <li><i class="fa-sharp fa-solid fa-clock"></i> ${new Date(
                        post.date
                      ).toLocaleDateString()}</li>
                      <li><i class="fa-sharp fa-solid fa-folder"></i> ${
                        post.tags
                      }</li>
                    </ul>
                    <h3 class="title">
                      <a href="/blog-details" data-post-id="${post.id}">${
              post.name
            }</a>
                    </h3>
                    <p>${post.description}</p>
                    <a href="/blog-details" class="blog-btn" data-post-id="${
                      post.id
                    }">
                      <i class="fa-sharp fa-regular fa-arrow-right"></i> Read More
                    </a>
                  </div>
                </div>`;
            blogContainer.appendChild(card);
          });
        }

        document.body.addEventListener("click", (e) => {
          const link = e.target.closest("a[data-post-id]");
          if (!link) return;
          if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;
          e.preventDefault();
          const id = link.dataset.postId;
          try {
            sessionStorage.setItem("selectedPostId", String(id));
          } catch {}
          window.location.href = "/blog-details";
        });

        function renderPagination(totalPages, currentPage) {
          paginationContainer.innerHTML = "";
          if (currentPage > 1) {
            const prev = document.createElement("li");
            prev.innerHTML = `<a href="#"><i class="fa-solid fa-chevron-left"></i></a>`;
            prev.addEventListener("click", (e) => {
              e.preventDefault();
              displayPage(currentPage - 1);
            });
            paginationContainer.appendChild(prev);
          }
          for (let i = 1; i <= totalPages; i++) {
            const li = document.createElement("li");
            li.innerHTML = `<a href="#" class="${
              i === currentPage ? "active" : ""
            }">${i}</a>`;
            li.addEventListener("click", (e) => {
              e.preventDefault();
              displayPage(i);
            });
            paginationContainer.appendChild(li);
          }
          if (currentPage < totalPages) {
            const next = document.createElement("li");
            next.innerHTML = `<a href="#"><i class="fa-solid fa-chevron-right"></i></a>`;
            next.addEventListener("click", (e) => {
              e.preventDefault();
              displayPage(currentPage + 1);
            });
            paginationContainer.appendChild(next);
          }
        }

        function displayPage(page = 1) {
          const totalPosts = filteredPosts.length;
          const totalPages = Math.ceil(totalPosts / POSTS_PER_PAGE);
          const start = (page - 1) * POSTS_PER_PAGE;
          const pagePosts = filteredPosts.slice(start, start + POSTS_PER_PAGE);
          renderPosts(pagePosts);
          renderPagination(totalPages, page);
        }

        function renderLatestPosts() {
          latestPostsContainer.innerHTML = `<h3 class="widget-title">Latest Post</h3>`;
          allPosts.slice(0, 3).forEach((post) => {
            const div = document.createElement("div");
            div.className = "sidebar-post";
            div.innerHTML = `
                <a href="/blog-details" data-post-id="${post.id}">
                  <img src="/uploads/${post.image}" alt="post" />
                </a>
                <div class="post-content">
                  <ul class="post-meta">
                    <li><i class="fa-sharp fa-regular fa-clock"></i> ${new Date(
                      post.date
                    ).toLocaleDateString()}</li>
                  </ul>
                  <h3 class="title">
                    <a href="/blog-details" data-post-id="${post.id}">${
              post.name
            }</a>
                  </h3>
                </div>`;
            latestPostsContainer.appendChild(div);
          });
        }

        function debounce(fn, ms) {
          let t;
          return (...args) => {
            clearTimeout(t);
            t = setTimeout(() => fn(...args), ms);
          };
        }

        function loadTags() {
          fetch("/blogalldata")
            .then((res) => res.json())
            .then((tags) => {
              tagsContainer.innerHTML = "";
              tags.slice(0, 8).forEach((t) => {
                const li = document.createElement("li");
                const a = document.createElement("a");

                a.href = `/blog-grid?tag=${encodeURIComponent(t.slug)}`;
                a.textContent = t.name;

                li.appendChild(a);
                tagsContainer.appendChild(li);
              });
            });
        }

        function loadCategories() {
          fetch("/allcategorydata")
            .then((res) => res.json())
            .then((cats) => {
              categoryContainer.innerHTML = "";
              cats.slice(0, 5).forEach((cat, i) => {
                const li = document.createElement("li"),
                  id = `category-${i + 1}`;
                li.innerHTML = `
                    <input type="checkbox" id="${id}" class="category-filter" value="${cat.name}">
                    <label for="${id}">${cat.name}</label>`;
                categoryContainer.appendChild(li);
              });
              categoryContainer.addEventListener("change", applyCategoryFilter);
            });
        }

        function applyCategoryFilter() {
          const selected = Array.from(
            categoryContainer.querySelectorAll(".category-filter:checked")
          ).map((cb) => cb.value);
          if (!selected.length) {
            filteredPosts = [...allPosts];
          } else {
            filteredPosts = allPosts.filter((post) =>
              post.categories
                .split(",")
                .map((c) => c.trim())
                .some((c) => selected.includes(c))
            );
          }
          displayPage(1);
        }

        fetchAllPosts().then(() => {
          renderLatestPosts();
          displayPage(1);
        });
        loadTags();
        loadCategories();

        searchInput?.addEventListener(
          "input",
          debounce((e) => searchPosts(e.target.value.trim()), 300)
        );
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const userId = localStorage.getItem("user_id");

        function updateCartIcon() {
          if (!userId) return;

          fetch(`/allcartdata?user_id=${userId}`)
            .then((res) => res.json())
            .then((data) => {
              let totalItems = 0;
              let totalAmount = 0;
              const seen = new Set();

              if (Array.isArray(data) && data.length > 0) {
                data.forEach((item) => {
                  const name = item.name;
                  if (seen.has(name)) {
                    return;
                  }
                  seen.add(name);

                  const quantity = parseInt(item.quantity || 1, 10);
                  const price = parseFloat(
                    (item.price || "").replace("$", "") || 0
                  );

                  totalItems += quantity;
                  totalAmount += quantity * price;
                });
              }

              document.querySelector(".icon span").innerText = totalItems;
              document.querySelector(
                ".content h5.number"
              ).innerText = `$${totalAmount.toFixed(2)}`;
            })
            .catch((err) => {
              console.error("Error updating cart info:", err);
            });
        }

        function stripTags(html) {
          const tmp = document.createElement("div");
          tmp.innerHTML = html;
          return tmp.textContent || tmp.innerText || "";
        }

        function updateAnnouncements() {
          fetch("/getannounce")
            .then((res) => res.json())
            .then((data) => {
              if (!data || !data.length) return;

              const today = new Date();
              const validAnnouncements = data.filter(
                (item) =>
                  item.active === "yes" && new Date(item.end_date) >= today
              );
              if (!validAnnouncements.length) return;

              const limitWords = (text, limit = 6) => {
                const words = text.trim().split(/\s+/);
                return (
                  words.slice(0, limit).join(" ") +
                  (words.length > limit ? "..." : "")
                );
              };

              const messages = validAnnouncements.map((item) =>
                limitWords(stripTags(item.content))
              );

              const announcer = document.getElementById("announcement-text");
              let index = 0;

              const rotate = () => {
                announcer.style.transform = "translateY(-100%)";
                setTimeout(() => {
                  announcer.textContent = messages[index];
                  announcer.style.transform = "translateY(0)";
                  index = (index + 1) % messages.length;
                }, 300);
              };

              announcer.textContent = messages[index];
              index++;
              setInterval(rotate, 3000);
            })
            .catch((err) => {
              console.error("Error fetching announcement:", err);
            });
        }

        updateCartIcon();
        setInterval(updateCartIcon, 1000);
        updateAnnouncements();
      });

      function getUserId() {
        return localStorage.getItem("user_id") || null;
      }
    </script>

    <footer class="footer-section bg-grey pt-60">
      <div class="container">
        <div class="footer-items">
          <div class="footer-item">
            <div class="icon">
              <img src="assets/img/icon/footer-1.png" alt="icon" />
            </div>
            <div class="content">
              <h4 class="title">Free Shipping</h4>
              <span>Free shipping on orders over $65.00</span>
            </div>
          </div>
          <div class="footer-item">
            <div class="icon">
              <img src="assets/img/icon/footer-2.png" alt="icon" />
            </div>
            <div class="content">
              <h4 class="title">Free Returns</h4>
              <span>30-days free return policy</span>
            </div>
          </div>
          <div class="footer-item">
            <div class="icon">
              <img src="assets/img/icon/footer-3.png" alt="icon" />
            </div>
            <div class="content">
              <h4 class="title">Secured Payments</h4>
              <span>We accept all major credit card</span>
            </div>
          </div>
          <div class="footer-item item-2">
            <div class="icon">
              <img src="assets/img/icon/footer-4.png" alt="icon" />
            </div>
            <div class="content">
              <h4 class="title">Customer Service</h4>
              <span>Top notch customer service</span>
            </div>
          </div>
        </div>
        <div class="row footer-widget-wrap pb-60">
          <div class="col-lg-3 col-md-6">
            <div class="footer-widget">
              <div class="widget-header">
                <h3 class="widget-title">About Store</h3>
              </div>
              <div class="footer-contact">
                <div class="icon">
                  <i class="fa-sharp fa-solid fa-phone-rotary"></i>
                </div>
                <div class="content">
                  <span>Have Question? Call Us 24/7</span>
                  <a href="tel:+25836922569">+258 3692 2569</a>
                </div>
              </div>
              <ul class="schedule-list">
                <li><span>Monday - Friday:</span>8:00am - 6:00pm</li>
                <li><span>Saturday:</span>8:00am - 6:00pm</li>
                <li><span>Sunday</span> Service Close</li>
              </ul>
            </div>
          </div>
          <div class="col-lg-2 col-md-6">
            <div class="footer-widget">
              <div class="widget-header">
                <h3 class="widget-title">Our Stores</h3>
              </div>
              <ul class="footer-list">
                <li><a href="contact.html">New York</a></li>
                <li><a href="contact.html">London SF</a></li>
                <li><a href="contact.html">Los Angele</a></li>
                <li><a href="contact.html">Chicago</a></li>
                <li><a href="contact.html">Las Vegas</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-2 col-md-6">
            <div class="footer-widget">
              <div class="widget-header">
                <h3 class="widget-title">Shop Categories</h3>
              </div>
              <ul class="footer-list">
                <li><a href="contact.html">New Arrivals</a></li>
                <li><a href="contact.html">Best Selling</a></li>
                <li><a href="contact.html">Vegetables</a></li>
                <li><a href="contact.html">Fresh Meat</a></li>
                <li><a href="contact.html">Fresh Seafood</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-2 col-md-6">
            <div class="footer-widget">
              <div class="widget-header">
                <h3 class="widget-title">Useful Links</h3>
              </div>
              <ul class="footer-list">
                <li><a href="contact.html">Privacy Policy</a></li>
                <li><a href="contact.html">Terms & Conditions</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a href="contact.html">Latest News</a></li>
                <li><a href="contact.html">Our Sitemaps</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="footer-widget">
              <div class="widget-header">
                <h3 class="widget-title">Our Newsletter</h3>
              </div>
              <div class="news-form-wrap">
                <p class="mb-20">
                  Subscribe to the mailing list to receive updates one the new
                  arrivals and other discounts
                </p>
                <div class="footer-form mb-20">
                  <form action="#" class="rr-subscribe-form">
                    <input
                      class="form-control py-4"
                      type="email"
                      name="email"
                      placeholder="Email address"
                      required
                    />
                    <input
                      type="hidden"
                      name="action"
                      value="mailchimpsubscribe"
                    />
                    <button class="submit" type="submit">Subscribe</button>
                    <div class="clearfix"></div>
                  </form>
                </div>
                <p class="mb-0">
                  I would like to receive news and special offer
                </p>
              </div>
            </div>
          </div>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const form = document.querySelector(".rr-subscribe-form");
              if (!form) return;

              function showBanner(msg, type = "success") {
                const b = document.createElement("div");
                b.className = `banner ${type}`;
                b.textContent = msg;
                Object.assign(b.style, {
                  position: "fixed",
                  top: "10px",
                  left: "50%",
                  transform: "translateX(-50%)",
                  padding: "10px 20px",
                  background: type === "success" ? "#4caf50" : "#f44336",
                  color: "#fff",
                  borderRadius: "4px",
                  zIndex: 9999,
                  boxShadow: "0 2px 6px rgba(0,0,0,0.3)",
                });
                document.body.appendChild(b);
                setTimeout(() => b.remove(), 3000);
              }

              form.addEventListener("submit", async (e) => {
                e.preventDefault();

                const input = form.querySelector('input[name="email"]');
                const email = input.value.trim();
                if (!email) {
                  showBanner("Please enter a valid email.", "error");
                  return;
                }

                try {
                  const res = await fetch("/newsletterpost", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ email }),
                  });
                  const text = await res.text();

                  if (res.ok) {
                    showBanner("Subscribed successfully!", "success");
                    form.reset();
                  } else {
                    showBanner(text || "Subscription failed.", "error");
                  }
                } catch (err) {
                  console.error("Newsletter error:", err);
                  showBanner("Network error, please try again.", "error");
                }
              });
            });
          </script>
        </div>
      </div>
      <div class="copyright-area">
        <div class="container">
          <div class="row copyright-content">
            <div class="col-lg-6">
              <div class="footer-img-wrap">
                <span>Payment System:</span>
                <div class="footer-img">
                  <a href="javascript:void(0)"
                    ><img
                      src="https://avatars.mds.yandex.net/i?id=bec5b0beccb70346fc778cdb735d787bcd15343d-12937823-images-thumbs&n=13"
                      alt="img"
                      loading="lazy"
                      style="width: 264px; height: 24px"
                  /></a>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <p>
                Copyright & Design <span id="designYear">2025</span>
                <span>©Roiser</span>. All Right Reserved
              </p>
            </div>

            <script>
              document.addEventListener("DOMContentLoaded", () => {
                const yearSpan = document.getElementById("designYear");
                if (yearSpan) {
                  yearSpan.textContent = new Date().getFullYear();
                }
              });
            </script>
          </div>
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetch("/get-font-settings")
          .then((res) => {
            if (!res.ok) throw new Error("Network error");
            return res.json();
          })
          .then((cfg) => {
            const s = document.createElement("style");
            s.type = "text/css";

            s.textContent = `
              body {
                font-family: ${cfg.font_family}, sans-serif !important;
                font-size: ${cfg.body_font_size}px !important;
              }
              h1 { font-size: ${cfg.h1_font_size}px !important; }
              h2 { font-size: ${cfg.h2_font_size}px !important; }
              h3 { font-size: ${cfg.h3_font_size}px !important; }
              h4 { font-size: ${cfg.h4_font_size}px !important; }
              h5 { font-size: ${cfg.h5_font_size}px !important; }
              h6 { font-size: ${cfg.h6_font_size}px !important; }
            `;
            document.head.appendChild(s);
          })
          .catch((err) => {
            console.error("Could not load font settings:", err);
          });
      });
    </script>

    <div id="scroll-percentage"><span id="scroll-percentage-value"></span></div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetch("/get-theme-logo")
          .then((res) => {
            if (!res.ok) throw new Error("Failed to load logo data");
            return res.json();
          })
          .then((cfg) => {
            const img = document.getElementById("site-logo");
            if (!img) return;
            if (cfg.logo_url) {
              img.src = `/uploads/${cfg.logo_url}`;
            }
            if (cfg.logo_height) {
              img.height = cfg.logo_height;
            }
          })
          .catch((err) => {
            console.error("Could not load theme logo:", err);
          });

        fetch("/themestylesdata")
          .then((res) => {
            if (!res.ok) throw new Error("Network error");
            return res.json();
          })
          .then((cfg) => {
            const topBg = cfg.headerBackgroundColor || "#ffffff";
            const topBar = document.querySelector(".top-bar");
            if (topBar) {
              topBar.style.setProperty("background-color", topBg, "important");
              topBar.querySelectorAll(
                "a, span, li, .nice-select .current, .nice-select .option"
              );
            }

            const midBg = cfg.headerMainColor || "#ffffff";
            const midTxt = cfg.headerMainTextColor || "#000000";
            const headerMid = document.querySelector(".header-middle");
            if (headerMid) {
              headerMid.style.setProperty(
                "background-color",
                midBg,
                "important"
              );
              headerMid
                .querySelectorAll(
                  "a, span, li, .contact-item-list .content span, " +
                    ".contact-item-list .content a, .contact-item-list .number, " +
                    ".rr-primary-btn, .nice-select .current, .nice-select .option"
                )
                .forEach((el) => {
                  el.style.setProperty("color", midTxt, "important");
                });
            }

            const scrollPercentage =
              document.getElementById("scroll-percentage");
            if (scrollPercentage) {
              if (cfg.backToTopButton === "no") {
                scrollPercentage.style.display = "none";
              } else {
                scrollPercentage.style.display = "block";
              }
            }
          })
          .catch((err) => {
            console.error("Could not load theme styles:", err);
          });
      });
    </script>

    <script src="assets/js/vendor/jquary-3.6.0.min.js"></script>
    <script src="assets/js/vendor/imagesloaded-pkgd.js"></script>
    <script src="assets/js/vendor/waypoints.min.js"></script>
    <script src="assets/js/vendor/venobox.min.js"></script>
    <script src="assets/js/vendor/meanmenu.js"></script>
    <script src="assets/js/vendor/swiper.min.js"></script>
    <script src="assets/js/vendor/nice-select.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
